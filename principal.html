<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rostros individuales</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
    }
    canvas {
      border: 2px solid #333;
      margin: 10px;
    }
    .faces {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 20px;
    }
    .faces canvas {
      border: 2px solid #007BFF;
    }
  </style>
</head>
<body>
  <h2>Rostros detectados en la imagen</h2>
  <canvas id="mainCanvas"></canvas>

  <h3>Imágenes recortadas de cada rostro</h3>
  <div class="faces" id="facesContainer"></div>

  <script>
    const image = new Image();
    image.src = "A BTI.jpeg"; // Asegúrate que esté en la misma carpeta

    const faces = [
      {x:675, y:64, w:41, h:41},
      {x:579, y:74, w:39, h:39},
      {x:636, y:76, w:34, h:34},
      {x:486, y:79, w:37, h:37},
      {x:717, y:77, w:40, h:40},
      {x:804, y:78, w:36, h:36},
      {x:876, y:89, w:40, h:40},
      {x:530, y:91, w:37, h:37},
      {x:748, y:95, w:36, h:36},
      {x:420, y:96, w:40, h:40},
      {x:995, y:176, w:43, h:43},
      {x:552, y:198, w:42, h:42},
      {x:1048, y:205, w:45, h:45},
      {x:447, y:211, w:39, h:39},
      {x:955, y:209, w:43, h:43},
      {x:743, y:216, w:36, h:36},
      {x:802, y:222, w:36, h:36},
      {x:876, y:223, w:39, h:39},
      {x:835, y:275, w:47, h:47},
      {x:955, y:296, w:58, h:58},
      {x:898, y:373, w:89, h:89}
    ];

    image.onload = () => {
      // Dibujar imagen completa con cuadros
      const mainCanvas = document.getElementById("mainCanvas");
      const ctx = mainCanvas.getContext("2d");
      mainCanvas.width = image.width;
      mainCanvas.height = image.height;

      ctx.drawImage(image, 0, 0);
      ctx.lineWidth = 3;
      ctx.strokeStyle = "red";
      faces.forEach(face => {
        ctx.strokeRect(face.x, face.y, face.w, face.h);
      });

      // Crear imágenes recortadas
      const facesContainer = document.getElementById("facesContainer");
      faces.forEach(face => {
        const faceCanvas = document.createElement("canvas");
        const faceCtx = faceCanvas.getContext("2d");
        faceCanvas.width = face.w;
        faceCanvas.height = face.h;

        faceCtx.drawImage(image, face.x, face.y, face.w, face.h, 0, 0, face.w, face.h);

        facesContainer.appendChild(faceCanvas);
      });
    };
  </script>
</body>
</html>
